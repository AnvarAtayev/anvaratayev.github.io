{{/* Theorem-like environment shortcode.
Renders theorem, lemma, corollary, remark, proof, example, etc.

Usage:

{{% env type="theorem" number="1" title="Pythagorean" %}}
Body text with $math$ support.
{{% /env %}}

Parameters:
  type:   (required) Environment type: theorem, lemma, corollary, proposition,
          conjecture, axiom, definition, notation, remark, note, example,
          exercise, problem, question, answer, solution, convention,
          acknowledgments, warning, proof
  number: (optional) Environment number, e.g. "1" or "2.3"
  title:  (optional) Environment title (from dueto), e.g. "Pythagorean"
  style:  (optional) "plain" for non-italic body environments (remark, note, etc.)

CSS classes:
  .tm-env             - all environments
  .tm-env-<type>      - per-type class (e.g. .tm-env-theorem, .tm-env-proof)
  .tm-env-plain       - plain-style environments (non-italic body)
  .tm-env-header      - the environment header line
  .tm-env-body        - the environment body content

NOTE: HTML output lines must have fewer than 4 leading spaces to avoid
Goldmark treating them as indented code blocks when nested inside {{% %}} shortcodes.
*/}}
{{- $type := .Get "type" -}}
{{- $number := .Get "number" -}}
{{- $title := .Get "title" -}}
{{- $style := .Get "style" | default "" -}}
{{- $class := printf "tm-env tm-env-%s" $type -}}
{{- if eq $style "plain" }}{{ $class = printf "%s tm-env-plain" $class }}{{ end -}}
<div class="{{ $class }}">
<p class="tm-env-header"><strong>
{{- $type | humanize -}}
{{- with $number }} {{ . }}{{ end -}}
{{- with $title }} ({{ . | markdownify }}){{ end -}}
.
</strong></p>
<div class="tm-env-body">
{{ .Inner }}
</div>
</div>
